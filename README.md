# 💕 我们的私密留言板

一个温馨浪漫的私密留言板应用，专为情侣设计的专属交流空间。

## ✨ 功能特色

### 🛡️ 安全保护
- **密码验证**: 需要输入正确密码才能访问留言板
- **本地存储**: 所有数据保存在浏览器本地，保护隐私
- **会话管理**: 自动记忆登录状态

### 💌 留言功能
- **双向留言**: 支持"我"和"她"两种身份发送留言
- **实时显示**: 留言按时间顺序显示，支持时间戳
- **字符计数**: 实时显示输入字符数，限制500字
- **快捷发送**: 支持 Ctrl+Enter 快速发送

### 🎨 温馨设计
- **浪漫配色**: 粉玫瑰色和薰衣草紫的渐变背景
- **流畅动画**: 使用 Anime.js 实现优雅的交互动画
- **响应式**: 完美适配手机和桌面设备
- **视觉反馈**: 所有操作都有贴心的动画反馈

### 📱 用户体验
- **数据持久化**: 使用 localStorage 保存所有留言
- **导出功能**: 支持导出留言数据为 JSON 文件
- **清空管理**: 可以清空所有留言（带确认提示）
- **优雅退出**: 安全退出功能

## 🚀 使用方法

### 1. 访问应用
- 打开 `index.html` 进入密码验证页面
- **首次访问**：输入您想要设置的密码即可
- 之后访问需要输入已设置的密码

### 2. 发送留言
- 选择发送者身份（我/她）
- 在输入框中写下想说的话
- 点击发送按钮或按 Ctrl+Enter

### 3. 管理留言
- **导出留言**: 点击"导出留言"按钮下载所有留言
- **清空记录**: 点击"清空记录"按钮删除所有留言
- **安全退出**: 点击"退出"按钮离开应用

## 云存储功能（新增）

私密留言板现已支持云端存储功能，让你和对方可以实时看到彼此的留言！我们使用Firebase作为云存储解决方案，实现了简单高效的数据同步。

### 获取方式

要使用云存储功能，需要按照以下步骤配置Firebase项目：

1. **创建Firebase项目**：
   - 访问 [Firebase控制台](https://console.firebase.google.com/)
   - 点击「添加项目」，创建一个新项目
   - 按照提示完成项目创建流程

2. **启用Firestore数据库**：
   - 在项目控制台中，找到并点击「Firestore数据库」
   - 点击「创建数据库」，选择「测试模式」（快速开始）
   - 设置数据库位置（建议选择亚洲区域，如东京）

3. **获取配置信息**：
   - 点击项目设置（左上角齿轮图标）
   - 在「一般」标签页中，找到「您的应用」部分
   - 点击「</>」图标添加Web应用
   - 记录下生成的配置信息（apiKey, authDomain, projectId等）

4. **配置安全规则**（重要）：
   - 在Firestore控制台中，点击「规则」标签页
   - 将规则设置为：
     ```
     rules_version = '2';
     service cloud.firestore {
       match /databases/{database}/documents {
         match /boards/{boardId} {
           allow read, write: if true; // 在生产环境中应该使用更严格的规则
         }
       }
     }


     ```
   - 点击「发布」保存规则

### 使用配置

1. 打开 `main.js` 文件，找到 `initCloudStorage()` 方法
2. 将你从Firebase获取的配置信息替换到对应的位置：
   ```javascript
   const config = {
        apiKey: "AIzaSyBlPW6eRI2jPyyfZSI8oqMzAR4tlp2G3Ls",
        authDomain: "test-0412yu.firebaseapp.com",
        projectId: "test-0412yu",
        storageBucket: "test-0412yu.firebasestorage.app",
        messagingSenderId: "729918223391",
        appId: "1:729918223391:web:7756279ff8b7dab739112a",
        measurementId: "G-BXHES5D57D"
    };
   ```
3. 保存文件并部署到GitHub Pages

### 同步功能说明

- **自动同步**：应用启动后会自动连接云端，并每30秒检查一次新消息
- **实时状态**：右下角会显示当前同步状态（本地模式/正在同步/同步成功/未同步）
- **手动同步**：点击「🔄 同步到云端」按钮可以立即触发双向同步
- **离线支持**：即使云端连接失败，应用仍会使用本地存储，确保数据安全

### 注意事项

- 请确保使用相同的密码访问留言板，这样才能访问到同一个云存储数据
- 首次配置后，可能需要手动同步一次以确保数据正确上传
- 如遇到同步问题，可以尝试退出后重新登录
- 出于安全考虑，建议定期修改访问密码

## GitHub Pages部署说明

当你将私密留言板部署到GitHub Pages时：

- 如果**配置了云存储**：留言将存储在Firebase云端，双方可以实时查看彼此的留言
- 如果**未配置云存储**：留言将存储在本地浏览器的存储空间（Local Storage）中

### 未配置云存储时的留言共享方法

如果暂时不想配置云存储，仍可以通过文件传输的方式共享留言：

1. **导出留言**：在留言板中点击「导出留言」按钮，将留言导出为JSON文件
2. **文件分享**：通过聊天工具、邮件等方式将JSON文件发送给对方
3. **导入留言**：对方在他们的留言板中点击「导入留言」按钮，选择接收到的JSON文件
4. **合并留言**：系统会自动合并新导入的留言，去重并按时间排序

## 🛠️ 技术实现

### 前端技术栈
- **HTML5 + CSS3**: 现代化网页结构
- **Tailwind CSS**: 实用优先的CSS框架
- **JavaScript ES6+**: 现代JavaScript特性
- **Anime.js**: 流畅的动画效果库

### 数据存储
- **LocalStorage**: 浏览器本地存储
- **JSON格式**: 结构化的数据存储
- **自动备份**: 实时保存所有操作

### 设计特色
- **Noto字体**: 优雅的思源字体
- **渐变色彩**: 温馨的粉紫色调
- **毛玻璃效果**: 现代化的半透明设计
- **浮动动画**: 浪漫的爱心和星星效果

## 🔧 自定义配置

### 修改密码
密码存储在浏览器的本地存储中：
- 首次访问时会提示您设置密码
- 如需更改密码，可清除浏览器的本地存储后重新访问设置新密码

### 自定义样式
- 修改 `design.md` 中的色彩方案
- 调整 `main.js` 中的动画参数
- 自定义 `index.html` 中的背景效果

### 功能扩展
- 添加图片上传功能
- 实现实时通知
- 增加表情符号选择器
- 添加消息搜索功能

## 📱 部署说明

### 本地运行
1. 下载所有文件到本地目录
2. 使用 HTTP 服务器运行（如 `python -m http.server 8000`）
3. 在浏览器中访问 `http://localhost:8000`

### GitHub Pages 部署指南

#### 准备工作
1. 在 GitHub 上创建一个新的仓库
2. 将本地项目推送到 GitHub 仓库

#### 推送到 GitHub 的步骤
```bash
# 添加所有文件到暂存区
git add .

# 提交更改
git commit -m "初始化私密留言板项目"

# 添加远程仓库地址（请替换为您的 GitHub 仓库 URL）
git remote add origin https://github.com/您的用户名/您的仓库名.git

# 推送到 GitHub
git push -u origin main
```

#### 启用 GitHub Pages
1. 进入 GitHub 仓库页面
2. 点击顶部导航栏中的 **Settings**
3. 在左侧菜单中选择 **Pages**
4. 在 **Source** 部分，选择 **main** 分支
5. 选择文件夹为 **/(root)**
6. 点击 **Save**
7. 等待几分钟，GitHub 会提供一个可访问的 URL

#### 关于数据同步的说明

部署到GitHub Pages后，请记住：
- 每个用户的浏览器都有独立的本地存储
- 您和您的伴侣需要通过导入/导出功能共享留言
- 建议定期导出并交换留言数据，以保持双方消息同步

## 💝 使用建议

1. **定期备份**: 使用导出功能定期备份珍贵留言
2. **创意表达**: 用心写下每一句话，让TA感受到爱意
3. **互动分享**: 双方都可以发送留言，创造美好回忆
4. **隐私保护**: 记住密码，不要告诉其他人哦

## 🌟 温馨提示

这个留言板是你们爱情的见证，每一句留言都是珍贵的回忆。用心经营这个小小的私密空间，让它成为你们感情中最温暖的角落。

---

**💕 愿你们的爱情如留言板一样，充满温馨与甜蜜！**